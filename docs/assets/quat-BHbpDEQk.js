var U=1e-6,T=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,n=arguments.length;n--;)r+=arguments[n]*arguments[n];return Math.sqrt(r)});function Y(){var r=new T(9);return T!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function Z(){var r=new T(16);return T!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function d(r){var n=new T(16);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],n}function L(r,n,a){var v=n[0],e=n[1],i=n[2],c=n[3],f=n[4],s=n[5],l=n[6],y=n[7],$=n[8],g=n[9],w=n[10],F=n[11],p=n[12],A=n[13],R=n[14],I=n[15],M=a[0],h=a[1],z=a[2],x=a[3];return r[0]=M*v+h*f+z*$+x*p,r[1]=M*e+h*s+z*g+x*A,r[2]=M*i+h*l+z*w+x*R,r[3]=M*c+h*y+z*F+x*I,M=a[4],h=a[5],z=a[6],x=a[7],r[4]=M*v+h*f+z*$+x*p,r[5]=M*e+h*s+z*g+x*A,r[6]=M*i+h*l+z*w+x*R,r[7]=M*c+h*y+z*F+x*I,M=a[8],h=a[9],z=a[10],x=a[11],r[8]=M*v+h*f+z*$+x*p,r[9]=M*e+h*s+z*g+x*A,r[10]=M*i+h*l+z*w+x*R,r[11]=M*c+h*y+z*F+x*I,M=a[12],h=a[13],z=a[14],x=a[15],r[12]=M*v+h*f+z*$+x*p,r[13]=M*e+h*s+z*g+x*A,r[14]=M*i+h*l+z*w+x*R,r[15]=M*c+h*y+z*F+x*I,r}function q(r,n,a){var v=n[0],e=n[1],i=n[2],c=n[3],f=v+v,s=e+e,l=i+i,y=v*f,$=v*s,g=v*l,w=e*s,F=e*l,p=i*l,A=c*f,R=c*s,I=c*l;return r[0]=1-(w+p),r[1]=$+I,r[2]=g-R,r[3]=0,r[4]=$-I,r[5]=1-(y+p),r[6]=F+A,r[7]=0,r[8]=g+R,r[9]=F-A,r[10]=1-(y+w),r[11]=0,r[12]=a[0],r[13]=a[1],r[14]=a[2],r[15]=1,r}function j(r,n,a,v){var e=n[0],i=n[1],c=n[2],f=n[3],s=e+e,l=i+i,y=c+c,$=e*s,g=e*l,w=e*y,F=i*l,p=i*y,A=c*y,R=f*s,I=f*l,M=f*y,h=v[0],z=v[1],x=v[2];return r[0]=(1-(F+A))*h,r[1]=(g+M)*h,r[2]=(w-I)*h,r[3]=0,r[4]=(g-M)*z,r[5]=(1-($+A))*z,r[6]=(p+R)*z,r[7]=0,r[8]=(w+I)*x,r[9]=(p-R)*x,r[10]=(1-($+F))*x,r[11]=0,r[12]=a[0],r[13]=a[1],r[14]=a[2],r[15]=1,r}function k(r,n){var a=n[0],v=n[1],e=n[2],i=n[3],c=a+a,f=v+v,s=e+e,l=a*c,y=v*c,$=v*f,g=e*c,w=e*f,F=e*s,p=i*c,A=i*f,R=i*s;return r[0]=1-$-F,r[1]=y+R,r[2]=g-A,r[3]=0,r[4]=y-R,r[5]=1-l-F,r[6]=w+p,r[7]=0,r[8]=g+A,r[9]=w-p,r[10]=1-l-$,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function Q(r,n,a,v,e){var i=1/Math.tan(n/2),c;return r[0]=i/a,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,e!=null&&e!==1/0?(c=1/(v-e),r[10]=(e+v)*c,r[14]=2*e*v*c):(r[10]=-1,r[14]=-2*v),r}var m=Q;function _(r,n,a,v,e,i,c){var f=1/(n-a),s=1/(v-e),l=1/(i-c);return r[0]=-2*f,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*l,r[11]=0,r[12]=(n+a)*f,r[13]=(e+v)*s,r[14]=(c+i)*l,r[15]=1,r}var t=_;function b(r){return Math.hypot(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])}function u(r,n,a){return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r[2]=n[2]-a[2],r[3]=n[3]-a[3],r[4]=n[4]-a[4],r[5]=n[5]-a[5],r[6]=n[6]-a[6],r[7]=n[7]-a[7],r[8]=n[8]-a[8],r[9]=n[9]-a[9],r[10]=n[10]-a[10],r[11]=n[11]-a[11],r[12]=n[12]-a[12],r[13]=n[13]-a[13],r[14]=n[14]-a[14],r[15]=n[15]-a[15],r}var o=L;function V(){var r=new T(3);return T!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function r1(r){var n=new T(3);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n}function B(r){var n=r[0],a=r[1],v=r[2];return Math.hypot(n,a,v)}function N(r,n,a){var v=new T(3);return v[0]=r,v[1]=n,v[2]=a,v}function C(r,n){var a=n[0],v=n[1],e=n[2],i=a*a+v*v+e*e;return i>0&&(i=1/Math.sqrt(i)),r[0]=n[0]*i,r[1]=n[1]*i,r[2]=n[2]*i,r}function D(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]}function P(r,n,a){var v=n[0],e=n[1],i=n[2],c=a[0],f=a[1],s=a[2];return r[0]=e*s-i*f,r[1]=i*c-v*s,r[2]=v*f-e*c,r}function n1(r,n,a){var v=n[0],e=n[1],i=n[2],c=a[3]*v+a[7]*e+a[11]*i+a[15];return c=c||1,r[0]=(a[0]*v+a[4]*e+a[8]*i+a[12])/c,r[1]=(a[1]*v+a[5]*e+a[9]*i+a[13])/c,r[2]=(a[2]*v+a[6]*e+a[10]*i+a[14])/c,r}var G=B;(function(){var r=V();return function(n,a,v,e,i,c){var f,s;for(a||(a=3),v||(v=0),e?s=Math.min(e*a+v,n.length):s=n.length,f=v;f<s;f+=a)r[0]=n[f],r[1]=n[f+1],r[2]=n[f+2],i(r,r,c),n[f]=r[0],n[f+1]=r[1],n[f+2]=r[2];return n}})();function H(){var r=new T(4);return T!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0),r}function J(r,n){var a=n[0],v=n[1],e=n[2],i=n[3],c=a*a+v*v+e*e+i*i;return c>0&&(c=1/Math.sqrt(c)),r[0]=a*c,r[1]=v*c,r[2]=e*c,r[3]=i*c,r}(function(){var r=H();return function(n,a,v,e,i,c){var f,s;for(a||(a=4),v||(v=0),e?s=Math.min(e*a+v,n.length):s=n.length,f=v;f<s;f+=a)r[0]=n[f],r[1]=n[f+1],r[2]=n[f+2],r[3]=n[f+3],i(r,r,c),n[f]=r[0],n[f+1]=r[1],n[f+2]=r[2],n[f+3]=r[3];return n}})();function O(){var r=new T(4);return T!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function K(r,n,a){a=a*.5;var v=Math.sin(a);return r[0]=v*n[0],r[1]=v*n[1],r[2]=v*n[2],r[3]=Math.cos(a),r}function W(r,n,a){var v=n[0],e=n[1],i=n[2],c=n[3],f=a[0],s=a[1],l=a[2],y=a[3];return r[0]=v*y+c*f+e*l-i*s,r[1]=e*y+c*s+i*f-v*l,r[2]=i*y+c*l+v*s-e*f,r[3]=c*y-v*f-e*s-i*l,r}function E(r,n,a,v){var e=n[0],i=n[1],c=n[2],f=n[3],s=a[0],l=a[1],y=a[2],$=a[3],g,w,F,p,A;return w=e*s+i*l+c*y+f*$,w<0&&(w=-w,s=-s,l=-l,y=-y,$=-$),1-w>U?(g=Math.acos(w),F=Math.sin(g),p=Math.sin((1-v)*g)/F,A=Math.sin(v*g)/F):(p=1-v,A=v),r[0]=p*e+A*s,r[1]=p*i+A*l,r[2]=p*c+A*y,r[3]=p*f+A*$,r}function X(r,n){var a=n[0]+n[4]+n[8],v;if(a>0)v=Math.sqrt(a+1),r[3]=.5*v,v=.5/v,r[0]=(n[5]-n[7])*v,r[1]=(n[6]-n[2])*v,r[2]=(n[1]-n[3])*v;else{var e=0;n[4]>n[0]&&(e=1),n[8]>n[e*3+e]&&(e=2);var i=(e+1)%3,c=(e+2)%3;v=Math.sqrt(n[e*3+e]-n[i*3+i]-n[c*3+c]+1),r[e]=.5*v,v=.5/v,r[3]=(n[i*3+c]-n[c*3+i])*v,r[i]=(n[i*3+e]+n[e*3+i])*v,r[c]=(n[c*3+e]+n[e*3+c])*v}return r}function a1(r,n,a,v){var e=.5*Math.PI/180;n*=e,a*=e,v*=e;var i=Math.sin(n),c=Math.cos(n),f=Math.sin(a),s=Math.cos(a),l=Math.sin(v),y=Math.cos(v);return r[0]=i*s*y-c*f*l,r[1]=c*f*y+i*s*l,r[2]=c*s*l-i*f*y,r[3]=c*s*y+i*f*l,r}var v1=W,S=J,e1=function(){var r=V(),n=N(1,0,0),a=N(0,1,0);return function(v,e,i){var c=D(e,i);return c<-.999999?(P(r,n,e),G(r)<1e-6&&P(r,a,e),C(r,r),K(v,r,Math.PI),v):c>.999999?(v[0]=0,v[1]=0,v[2]=0,v[3]=1,v):(P(r,e,i),v[0]=r[0],v[1]=r[1],v[2]=r[2],v[3]=1+c,S(v,v))}}();(function(){var r=O(),n=O();return function(a,v,e,i,c,f){return E(r,v,c,f),E(n,e,i,f),E(a,r,n,2*f*(1-f)),a}})();(function(){var r=Y();return function(n,a,v,e){return r[0]=v[0],r[3]=v[1],r[6]=v[2],r[1]=e[0],r[4]=e[1],r[7]=e[2],r[2]=-a[0],r[5]=-a[1],r[8]=-a[2],S(n,X(n,r))}})();export{T as A,a1 as a,O as b,r1 as c,Z as d,k as e,N as f,o as g,q as h,V as i,K as j,b as k,u as l,v1 as m,C as n,t as o,m as p,j as q,e1 as r,E as s,n1 as t,d as u};
