import{a as d}from"./assert.194f7a38.js";import{a as l,j as p}from"./vendor.8c8c5e31.js";function u(o){const{width:a,height:t}=o.dims(),i=new ImageData(a,t);for(let e=0;e<a;e++)for(let s=0;s<t;s++){const r=(e+s*a)*4,n=o.getv(e,s);i.data[r+0]=n*255,i.data[r+1]=n*255,i.data[r+2]=n*255,i.data[r+3]=255}return i}function m(o,a,t){const{width:i,height:e}=o.dims(),s=new ImageData(i,e);for(let r=0;r<i;r++)for(let n=0;n<e;n++){const h=(r+n*i)*4,c=o.getv(r,n);c>a?(s.data[h+0]=c*255,s.data[h+1]=c*255,s.data[h+2]=c*255,s.data[h+3]=255):(s.data[h+0]=t[0],s.data[h+1]=t[1],s.data[h+2]=t[2],s.data[h+3]=255)}return s}class v{constructor(a,t,i){if(this.arr=new Float32Array(a*t),this.xsize=a,this.ysize=t,i)for(let e=0;e<t;e++)for(let s=0;s<a;s++)this.arr[s+e*t]=i(s,e)}getv(a,t){return d(a<this.xsize),d(t<this.ysize),this.arr[this.xsize*t+a]}setv(a,t,i){d(a<this.xsize),d(t<this.ysize),d(i>=0&&i<=1),this.arr[this.xsize*t+a]=i}getData(){return this.arr}dims(){return{width:this.xsize,height:this.ysize}}add(a){d(a.arr.length===this.arr.length);for(let t=0;t<this.arr.length;t++)this.arr[t]=a.arr[t]}scale(a){for(let t=0;t<this.arr.length;t++)this.arr[t]*=a}}class x extends l.Component{constructor(a){super(a);this.displayCanvas=l.createRef(),this.paint=this.paint.bind(this)}componentDidMount(){this.paint()}componentDidUpdate(){this.paint()}paint(){const a=this.displayCanvas.current;if(a!=null){const t=a.getContext("2d");t!=null&&t.putImageData(this.props.data,0,0)}}render(){const{width:a,height:t}=this.props.data;return p("canvas",{className:this.props.className,style:this.props.style,ref:this.displayCanvas,width:a,height:t})}}export{x as I,v as S,u as g,m as t};
