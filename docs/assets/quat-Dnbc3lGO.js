var U=1e-6,R=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,n=arguments.length;n--;)r+=arguments[n]*arguments[n];return Math.sqrt(r)});function Y(){var r=new R(9);return R!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function X(){var r=new R(16);return R!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function Z(r){var n=new R(16);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],n}function L(r,n,e){var v=n[0],a=n[1],i=n[2],c=n[3],f=n[4],s=n[5],l=n[6],y=n[7],$=n[8],g=n[9],w=n[10],F=n[11],p=n[12],A=n[13],T=n[14],I=n[15],h=e[0],M=e[1],z=e[2],x=e[3];return r[0]=h*v+M*f+z*$+x*p,r[1]=h*a+M*s+z*g+x*A,r[2]=h*i+M*l+z*w+x*T,r[3]=h*c+M*y+z*F+x*I,h=e[4],M=e[5],z=e[6],x=e[7],r[4]=h*v+M*f+z*$+x*p,r[5]=h*a+M*s+z*g+x*A,r[6]=h*i+M*l+z*w+x*T,r[7]=h*c+M*y+z*F+x*I,h=e[8],M=e[9],z=e[10],x=e[11],r[8]=h*v+M*f+z*$+x*p,r[9]=h*a+M*s+z*g+x*A,r[10]=h*i+M*l+z*w+x*T,r[11]=h*c+M*y+z*F+x*I,h=e[12],M=e[13],z=e[14],x=e[15],r[12]=h*v+M*f+z*$+x*p,r[13]=h*a+M*s+z*g+x*A,r[14]=h*i+M*l+z*w+x*T,r[15]=h*c+M*y+z*F+x*I,r}function q(r,n,e){var v=n[0],a=n[1],i=n[2],c=n[3],f=v+v,s=a+a,l=i+i,y=v*f,$=v*s,g=v*l,w=a*s,F=a*l,p=i*l,A=c*f,T=c*s,I=c*l;return r[0]=1-(w+p),r[1]=$+I,r[2]=g-T,r[3]=0,r[4]=$-I,r[5]=1-(y+p),r[6]=F+A,r[7]=0,r[8]=g+T,r[9]=F-A,r[10]=1-(y+w),r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r}function d(r,n){var e=n[0],v=n[1],a=n[2],i=n[3],c=e+e,f=v+v,s=a+a,l=e*c,y=v*c,$=v*f,g=a*c,w=a*f,F=a*s,p=i*c,A=i*f,T=i*s;return r[0]=1-$-F,r[1]=y+T,r[2]=g-A,r[3]=0,r[4]=y-T,r[5]=1-l-F,r[6]=w+p,r[7]=0,r[8]=g+A,r[9]=w-p,r[10]=1-l-$,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function Q(r,n,e,v,a){var i=1/Math.tan(n/2),c;return r[0]=i/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,a!=null&&a!==1/0?(c=1/(v-a),r[10]=(a+v)*c,r[14]=2*a*v*c):(r[10]=-1,r[14]=-2*v),r}var j=Q;function S(r,n,e,v,a,i,c){var f=1/(n-e),s=1/(v-a),l=1/(i-c);return r[0]=-2*f,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*l,r[11]=0,r[12]=(n+e)*f,r[13]=(a+v)*s,r[14]=(c+i)*l,r[15]=1,r}var k=S;function t(r){return Math.hypot(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])}function b(r,n,e){return r[0]=n[0]-e[0],r[1]=n[1]-e[1],r[2]=n[2]-e[2],r[3]=n[3]-e[3],r[4]=n[4]-e[4],r[5]=n[5]-e[5],r[6]=n[6]-e[6],r[7]=n[7]-e[7],r[8]=n[8]-e[8],r[9]=n[9]-e[9],r[10]=n[10]-e[10],r[11]=n[11]-e[11],r[12]=n[12]-e[12],r[13]=n[13]-e[13],r[14]=n[14]-e[14],r[15]=n[15]-e[15],r}var u=L;function O(){var r=new R(3);return R!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function o(r){var n=new R(3);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n}function _(r){var n=r[0],e=r[1],v=r[2];return Math.hypot(n,e,v)}function E(r,n,e){var v=new R(3);return v[0]=r,v[1]=n,v[2]=e,v}function B(r,n){var e=n[0],v=n[1],a=n[2],i=e*e+v*v+a*a;return i>0&&(i=1/Math.sqrt(i)),r[0]=n[0]*i,r[1]=n[1]*i,r[2]=n[2]*i,r}function C(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]}function P(r,n,e){var v=n[0],a=n[1],i=n[2],c=e[0],f=e[1],s=e[2];return r[0]=a*s-i*f,r[1]=i*c-v*s,r[2]=v*f-a*c,r}var D=_;(function(){var r=O();return function(n,e,v,a,i,c){var f,s;for(e||(e=3),v||(v=0),a?s=Math.min(a*e+v,n.length):s=n.length,f=v;f<s;f+=e)r[0]=n[f],r[1]=n[f+1],r[2]=n[f+2],i(r,r,c),n[f]=r[0],n[f+1]=r[1],n[f+2]=r[2];return n}})();function G(){var r=new R(4);return R!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0),r}function H(r,n){var e=n[0],v=n[1],a=n[2],i=n[3],c=e*e+v*v+a*a+i*i;return c>0&&(c=1/Math.sqrt(c)),r[0]=e*c,r[1]=v*c,r[2]=a*c,r[3]=i*c,r}(function(){var r=G();return function(n,e,v,a,i,c){var f,s;for(e||(e=4),v||(v=0),a?s=Math.min(a*e+v,n.length):s=n.length,f=v;f<s;f+=e)r[0]=n[f],r[1]=n[f+1],r[2]=n[f+2],r[3]=n[f+3],i(r,r,c),n[f]=r[0],n[f+1]=r[1],n[f+2]=r[2],n[f+3]=r[3];return n}})();function N(){var r=new R(4);return R!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function J(r,n,e){e=e*.5;var v=Math.sin(e);return r[0]=v*n[0],r[1]=v*n[1],r[2]=v*n[2],r[3]=Math.cos(e),r}function K(r,n,e){var v=n[0],a=n[1],i=n[2],c=n[3],f=e[0],s=e[1],l=e[2],y=e[3];return r[0]=v*y+c*f+a*l-i*s,r[1]=a*y+c*s+i*f-v*l,r[2]=i*y+c*l+v*s-a*f,r[3]=c*y-v*f-a*s-i*l,r}function m(r,n,e,v){var a=n[0],i=n[1],c=n[2],f=n[3],s=e[0],l=e[1],y=e[2],$=e[3],g,w,F,p,A;return w=a*s+i*l+c*y+f*$,w<0&&(w=-w,s=-s,l=-l,y=-y,$=-$),1-w>U?(g=Math.acos(w),F=Math.sin(g),p=Math.sin((1-v)*g)/F,A=Math.sin(v*g)/F):(p=1-v,A=v),r[0]=p*a+A*s,r[1]=p*i+A*l,r[2]=p*c+A*y,r[3]=p*f+A*$,r}function W(r,n){var e=n[0]+n[4]+n[8],v;if(e>0)v=Math.sqrt(e+1),r[3]=.5*v,v=.5/v,r[0]=(n[5]-n[7])*v,r[1]=(n[6]-n[2])*v,r[2]=(n[1]-n[3])*v;else{var a=0;n[4]>n[0]&&(a=1),n[8]>n[a*3+a]&&(a=2);var i=(a+1)%3,c=(a+2)%3;v=Math.sqrt(n[a*3+a]-n[i*3+i]-n[c*3+c]+1),r[a]=.5*v,v=.5/v,r[3]=(n[i*3+c]-n[c*3+i])*v,r[i]=(n[i*3+a]+n[a*3+i])*v,r[c]=(n[c*3+a]+n[a*3+c])*v}return r}function r1(r,n,e,v){var a=.5*Math.PI/180;n*=a,e*=a,v*=a;var i=Math.sin(n),c=Math.cos(n),f=Math.sin(e),s=Math.cos(e),l=Math.sin(v),y=Math.cos(v);return r[0]=i*s*y-c*f*l,r[1]=c*f*y+i*s*l,r[2]=c*s*l-i*f*y,r[3]=c*s*y+i*f*l,r}var n1=K,V=H,v1=function(){var r=O(),n=E(1,0,0),e=E(0,1,0);return function(v,a,i){var c=C(a,i);return c<-.999999?(P(r,n,a),D(r)<1e-6&&P(r,e,a),B(r,r),J(v,r,Math.PI),v):c>.999999?(v[0]=0,v[1]=0,v[2]=0,v[3]=1,v):(P(r,a,i),v[0]=r[0],v[1]=r[1],v[2]=r[2],v[3]=1+c,V(v,v))}}();(function(){var r=N(),n=N();return function(e,v,a,i,c,f){return m(r,v,c,f),m(n,a,i,f),m(e,r,n,2*f*(1-f)),e}})();(function(){var r=Y();return function(n,e,v,a){return r[0]=v[0],r[3]=v[1],r[6]=v[2],r[1]=a[0],r[4]=a[1],r[7]=a[2],r[2]=-e[0],r[5]=-e[1],r[8]=-e[2],V(n,W(n,r))}})();export{R as A,r1 as a,N as b,o as c,X as d,d as e,E as f,u as g,q as h,J as i,t as j,b as k,Z as l,n1 as m,B as n,k as o,j as p,v1 as r,m as s};
