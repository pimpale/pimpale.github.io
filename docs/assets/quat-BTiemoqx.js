var V=1e-6,E=typeof Float32Array<"u"?Float32Array:Array,k="zyx";function L(){var r=new E(9);return E!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function X(){var r=new E(16);return E!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function Z(r){var n=new E(16);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],n}function S(r,n,a){var e=n[0],c=n[1],s=n[2],v=n[3],i=n[4],f=n[5],y=n[6],l=n[7],x=n[8],p=n[9],A=n[10],R=n[11],$=n[12],g=n[13],F=n[14],T=n[15],w=a[0],z=a[1],h=a[2],M=a[3];return r[0]=w*e+z*i+h*x+M*$,r[1]=w*c+z*f+h*p+M*g,r[2]=w*s+z*y+h*A+M*F,r[3]=w*v+z*l+h*R+M*T,w=a[4],z=a[5],h=a[6],M=a[7],r[4]=w*e+z*i+h*x+M*$,r[5]=w*c+z*f+h*p+M*g,r[6]=w*s+z*y+h*A+M*F,r[7]=w*v+z*l+h*R+M*T,w=a[8],z=a[9],h=a[10],M=a[11],r[8]=w*e+z*i+h*x+M*$,r[9]=w*c+z*f+h*p+M*g,r[10]=w*s+z*y+h*A+M*F,r[11]=w*v+z*l+h*R+M*T,w=a[12],z=a[13],h=a[14],M=a[15],r[12]=w*e+z*i+h*x+M*$,r[13]=w*c+z*f+h*p+M*g,r[14]=w*s+z*y+h*A+M*F,r[15]=w*v+z*l+h*R+M*T,r}function m(r,n,a){var e=n[0],c=n[1],s=n[2],v=n[3],i=e+e,f=c+c,y=s+s,l=e*i,x=e*f,p=e*y,A=c*f,R=c*y,$=s*y,g=v*i,F=v*f,T=v*y;return r[0]=1-(A+$),r[1]=x+T,r[2]=p-F,r[3]=0,r[4]=x-T,r[5]=1-(l+$),r[6]=R+g,r[7]=0,r[8]=p+F,r[9]=R-g,r[10]=1-(l+A),r[11]=0,r[12]=a[0],r[13]=a[1],r[14]=a[2],r[15]=1,r}function q(r,n,a,e){var c=n[0],s=n[1],v=n[2],i=n[3],f=c+c,y=s+s,l=v+v,x=c*f,p=c*y,A=c*l,R=s*y,$=s*l,g=v*l,F=i*f,T=i*y,w=i*l,z=e[0],h=e[1],M=e[2];return r[0]=(1-(R+g))*z,r[1]=(p+w)*z,r[2]=(A-T)*z,r[3]=0,r[4]=(p-w)*h,r[5]=(1-(x+g))*h,r[6]=($+F)*h,r[7]=0,r[8]=(A+T)*M,r[9]=($-F)*M,r[10]=(1-(x+R))*M,r[11]=0,r[12]=a[0],r[13]=a[1],r[14]=a[2],r[15]=1,r}function j(r,n){var a=n[0],e=n[1],c=n[2],s=n[3],v=a+a,i=e+e,f=c+c,y=a*v,l=e*v,x=e*i,p=c*v,A=c*i,R=c*f,$=s*v,g=s*i,F=s*f;return r[0]=1-x-R,r[1]=l+F,r[2]=p-g,r[3]=0,r[4]=l-F,r[5]=1-y-R,r[6]=A+$,r[7]=0,r[8]=p+g,r[9]=A-$,r[10]=1-y-x,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function Y(r,n,a,e,c){var s=1/Math.tan(n/2);if(r[0]=s/a,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,c!=null&&c!==1/0){var v=1/(e-c);r[10]=(c+e)*v,r[14]=2*c*e*v}else r[10]=-1,r[14]=-2*e;return r}var b=Y;function _(r,n,a,e,c,s,v){var i=1/(n-a),f=1/(e-c),y=1/(s-v);return r[0]=-2*i,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*f,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*y,r[11]=0,r[12]=(n+a)*i,r[13]=(c+e)*f,r[14]=(v+s)*y,r[15]=1,r}var t=_;function u(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]+r[3]*r[3]+r[4]*r[4]+r[5]*r[5]+r[6]*r[6]+r[7]*r[7]+r[8]*r[8]+r[9]*r[9]+r[10]*r[10]+r[11]*r[11]+r[12]*r[12]+r[13]*r[13]+r[14]*r[14]+r[15]*r[15])}function o(r,n,a){return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r[2]=n[2]-a[2],r[3]=n[3]-a[3],r[4]=n[4]-a[4],r[5]=n[5]-a[5],r[6]=n[6]-a[6],r[7]=n[7]-a[7],r[8]=n[8]-a[8],r[9]=n[9]-a[9],r[10]=n[10]-a[10],r[11]=n[11]-a[11],r[12]=n[12]-a[12],r[13]=n[13]-a[13],r[14]=n[14]-a[14],r[15]=n[15]-a[15],r}var r1=S;function P(){var r=new E(3);return E!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function n1(r){var n=new E(3);return n[0]=r[0],n[1]=r[1],n[2]=r[2],n}function B(r){var n=r[0],a=r[1],e=r[2];return Math.sqrt(n*n+a*a+e*e)}function N(r,n,a){var e=new E(3);return e[0]=r,e[1]=n,e[2]=a,e}function a1(r,n,a){return r[0]=n[0]+a[0],r[1]=n[1]+a[1],r[2]=n[2]+a[2],r}function e1(r,n,a){return r[0]=n[0]-a[0],r[1]=n[1]-a[1],r[2]=n[2]-a[2],r}function v1(r,n,a){return r[0]=Math.min(n[0],a[0]),r[1]=Math.min(n[1],a[1]),r[2]=Math.min(n[2],a[2]),r}function c1(r,n,a){return r[0]=Math.max(n[0],a[0]),r[1]=Math.max(n[1],a[1]),r[2]=Math.max(n[2],a[2]),r}function i1(r,n,a){return r[0]=n[0]*a,r[1]=n[1]*a,r[2]=n[2]*a,r}function D(r,n){var a=n[0],e=n[1],c=n[2],s=a*a+e*e+c*c;return s>0&&(s=1/Math.sqrt(s)),r[0]=n[0]*s,r[1]=n[1]*s,r[2]=n[2]*s,r}function G(r,n){return r[0]*n[0]+r[1]*n[1]+r[2]*n[2]}function d(r,n,a){var e=n[0],c=n[1],s=n[2],v=a[0],i=a[1],f=a[2];return r[0]=c*f-s*i,r[1]=s*v-e*f,r[2]=e*i-c*v,r}function s1(r,n,a){var e=n[0],c=n[1],s=n[2],v=a[3]*e+a[7]*c+a[11]*s+a[15];return v=v||1,r[0]=(a[0]*e+a[4]*c+a[8]*s+a[12])/v,r[1]=(a[1]*e+a[5]*c+a[9]*s+a[13])/v,r[2]=(a[2]*e+a[6]*c+a[10]*s+a[14])/v,r}var Q=B;(function(){var r=P();return function(n,a,e,c,s,v){var i,f;for(a||(a=3),e||(e=0),c?f=Math.min(c*a+e,n.length):f=n.length,i=e;i<f;i+=a)r[0]=n[i],r[1]=n[i+1],r[2]=n[i+2],s(r,r,v),n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2];return n}})();function C(){var r=new E(4);return E!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0),r}function H(r,n){var a=n[0],e=n[1],c=n[2],s=n[3],v=a*a+e*e+c*c+s*s;return v>0&&(v=1/Math.sqrt(v)),r[0]=a*v,r[1]=e*v,r[2]=c*v,r[3]=s*v,r}(function(){var r=C();return function(n,a,e,c,s,v){var i,f;for(a||(a=4),e||(e=0),c?f=Math.min(c*a+e,n.length):f=n.length,i=e;i<f;i+=a)r[0]=n[i],r[1]=n[i+1],r[2]=n[i+2],r[3]=n[i+3],s(r,r,v),n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3];return n}})();function O(){var r=new E(4);return E!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function J(r,n,a){a=a*.5;var e=Math.sin(a);return r[0]=e*n[0],r[1]=e*n[1],r[2]=e*n[2],r[3]=Math.cos(a),r}function K(r,n,a){var e=n[0],c=n[1],s=n[2],v=n[3],i=a[0],f=a[1],y=a[2],l=a[3];return r[0]=e*l+v*i+c*y-s*f,r[1]=c*l+v*f+s*i-e*y,r[2]=s*l+v*y+e*f-c*i,r[3]=v*l-e*i-c*f-s*y,r}function I(r,n,a,e){var c=n[0],s=n[1],v=n[2],i=n[3],f=a[0],y=a[1],l=a[2],x=a[3],p,A,R,$,g;return A=c*f+s*y+v*l+i*x,A<0&&(A=-A,f=-f,y=-y,l=-l,x=-x),1-A>V?(p=Math.acos(A),R=Math.sin(p),$=Math.sin((1-e)*p)/R,g=Math.sin(e*p)/R):($=1-e,g=e),r[0]=$*c+g*f,r[1]=$*s+g*y,r[2]=$*v+g*l,r[3]=$*i+g*x,r}function W(r,n){var a=n[0]+n[4]+n[8],e;if(a>0)e=Math.sqrt(a+1),r[3]=.5*e,e=.5/e,r[0]=(n[5]-n[7])*e,r[1]=(n[6]-n[2])*e,r[2]=(n[1]-n[3])*e;else{var c=0;n[4]>n[0]&&(c=1),n[8]>n[c*3+c]&&(c=2);var s=(c+1)%3,v=(c+2)%3;e=Math.sqrt(n[c*3+c]-n[s*3+s]-n[v*3+v]+1),r[c]=.5*e,e=.5/e,r[3]=(n[s*3+v]-n[v*3+s])*e,r[s]=(n[s*3+c]+n[c*3+s])*e,r[v]=(n[v*3+c]+n[c*3+v])*e}return r}function f1(r,n,a,e){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:k,s=Math.PI/360;n*=s,e*=s,a*=s;var v=Math.sin(n),i=Math.cos(n),f=Math.sin(a),y=Math.cos(a),l=Math.sin(e),x=Math.cos(e);switch(c){case"xyz":r[0]=v*y*x+i*f*l,r[1]=i*f*x-v*y*l,r[2]=i*y*l+v*f*x,r[3]=i*y*x-v*f*l;break;case"xzy":r[0]=v*y*x-i*f*l,r[1]=i*f*x-v*y*l,r[2]=i*y*l+v*f*x,r[3]=i*y*x+v*f*l;break;case"yxz":r[0]=v*y*x+i*f*l,r[1]=i*f*x-v*y*l,r[2]=i*y*l-v*f*x,r[3]=i*y*x+v*f*l;break;case"yzx":r[0]=v*y*x+i*f*l,r[1]=i*f*x+v*y*l,r[2]=i*y*l-v*f*x,r[3]=i*y*x-v*f*l;break;case"zxy":r[0]=v*y*x-i*f*l,r[1]=i*f*x+v*y*l,r[2]=i*y*l+v*f*x,r[3]=i*y*x-v*f*l;break;case"zyx":r[0]=v*y*x-i*f*l,r[1]=i*f*x+v*y*l,r[2]=i*y*l-v*f*x,r[3]=i*y*x+v*f*l;break;default:throw new Error("Unknown angle order "+c)}return r}var y1=K,U=H,l1=(function(){var r=P(),n=N(1,0,0),a=N(0,1,0);return function(e,c,s){var v=G(c,s);return v<-.999999?(d(r,n,c),Q(r)<1e-6&&d(r,a,c),D(r,r),J(e,r,Math.PI),e):v>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(d(r,c,s),e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=1+v,U(e,e))}})();(function(){var r=O(),n=O();return function(a,e,c,s,v,i){return I(r,e,v,i),I(n,c,s,i),I(a,r,n,2*i*(1-i)),a}})();(function(){var r=L();return function(n,a,e,c){return r[0]=e[0],r[3]=e[1],r[6]=e[2],r[1]=c[0],r[4]=c[1],r[7]=c[2],r[2]=-a[0],r[5]=-a[1],r[8]=-a[2],U(n,W(n,r))}})();export{Z as A,E as B,N as a,P as b,O as c,d,n1 as e,f1 as f,c1 as g,i1 as h,a1 as i,y1 as j,I as k,X as l,v1 as m,D as n,j as o,t as p,r1 as q,l1 as r,e1 as s,m as t,b as u,J as v,u as w,o as x,q as y,s1 as z};
