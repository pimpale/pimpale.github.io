var T=Object.defineProperty;var R=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var S=(a,t,i)=>t in a?T(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i,M=(a,t)=>{for(var i in t||(t={}))V.call(t,i)&&S(a,i,t[i]);if(R)for(var i of R(t))B.call(t,i)&&S(a,i,t[i]);return a};import{L as U,S as C}from"./style.64e13ac1.js";import{a as y,j as e,b as h,F as k,m as G,i as H,k as I,l as O,c as W,R as $,C as q,p as Y}from"./vendor.86d6a677.js";import{a as g}from"./assert.194f7a38.js";import{S as N,t as _,I as j}from"./ImageDataDisplay.ea5bf256.js";import{c as z,a as L}from"./webgl.eb3a0ae9.js";import{T as J}from"./camera.3e87becc.js";import{A as Q}from"./Articles.8e1f0bd8.js";import{R as X}from"./govind_pimpale_resume.dc7e1fed.js";class K{constructor(t,i){this.arr=new Float32Array(t*i*2),this.xsize=t,this.ysize=i}getv(t,i){return g(t<this.xsize),g(i<this.ysize),[this.arr[(this.xsize*i+t)*2+0],this.arr[(this.xsize*i+t)*2+1]]}setv(t,i,s){g(t<this.xsize),g(i<this.ysize);let[l,n]=s;this.arr[(this.xsize*i+t)*2+0]=l,this.arr[(this.xsize*i+t)*2+1]=n}dims(){return{width:this.xsize,height:this.ysize}}}class Z extends y.Component{constructor(t){super(t);this.displayCanvas=y.createRef(),this.paint=this.paint.bind(this),this.tick=this.tick.bind(this);const{width:i,height:s}=t.base;this.state={alphaData:new N(i,s),particles:new Array,intervalCode:null}}componentDidMount(){this.setState({intervalCode:window.setInterval(this.tick,100)})}componentWillUnmount(){this.state.intervalCode&&window.clearInterval(this.state.intervalCode),this.setState({intervalCode:null})}componentDidUpdate(){this.paint()}tick(){const{width:t,height:i}=this.state.alphaData.dims(),s=this.state.particles.map(n=>{const r=this.props.vmap.getv(Math.floor(n.x),Math.floor(n.y));return{x:n.x+r[0]/2,y:n.y+r[1]/2,age:n.age+1}}).filter(n=>n.x>0&&n.x<t&&n.y>0&&n.y<i&&n.age<100).concat([...Array(4)].map(n=>({x:Math.random()*t,y:Math.random()*i,age:0})));let l=new N(t,i);for(let n=0;n<t;n++)for(let r=0;r<i;r++)l.setv(n,r,this.state.alphaData.getv(n,r)/1.1);for(const n of s)l.setv(Math.floor(n.x),Math.floor(n.y),1);this.setState({alphaData:l,particles:s})}paintHeightMap(t){const{width:i,height:s}=this.props.base;t.putImageData(this.props.base,0,0);let l=new ImageData(i,s);for(let n=0;n<i;n++)for(let r=0;r<s;r++){const o=(i*r+n)*4;l.data[o+0]=this.props.base.data[o+0],l.data[o+1]=this.props.base.data[o+1]+this.state.alphaData.getv(n,r)*255,l.data[o+2]=this.props.base.data[o+2],l.data[o+3]=this.props.base.data[o+3]}t.putImageData(l,0,0)}paint(){const t=this.displayCanvas.current;if(t!=null){const i=t.getContext("2d");i!=null&&this.paintHeightMap(i)}}render(){const{width:t,height:i}=this.props.base;return e("canvas",{style:this.props.style,className:this.props.className,ref:this.displayCanvas,width:t,height:i})}}function D(a,t){const i=G.makeNoise4D(t);return(s,l)=>i(Math.cos(s*Math.PI*2)/a,Math.sin(s*Math.PI*2)/a,Math.cos(l*Math.PI*2)/a,Math.sin(l*Math.PI*2)/a)}function tt(a,t,i){function s(r,o,b){const u=1e-4,A=r(o+u,b),c=r(o-u,b),d=(A-c)/(2*u),p=r(o,b+u),w=r(o,b-u);return[(p-w)/(2*u),-d]}let l=new K(a,t);const n=D(3,i);for(let r=0;r<a;r++)for(let o=0;o<t;o++)l.setv(r,o,s(n,r/a,o/t));return l}function et(a,t,i){function s(c,d,p){let w=0;for(const{noise:x,weight:F}of p)w+=x(c,d)*F;return w}const l=[{scale:1.28,weight:70},{scale:.64,weight:19},{scale:.32,weight:15},{scale:.16,weight:13},{scale:.08,weight:8},{scale:.04,weight:5},{scale:.02,weight:2}],n=l.map(c=>c.weight).reduce((c,d)=>c+d),r=l.map(({scale:c,weight:d},p)=>({noise:D(c,i+p),weight:d/n}));function o(c,d,p){return Math.pow(1-Math.abs(p(c,d)),3)}const b=D(3,i-1),u=c=>Math.max(Math.min(c,1),0);let A=new N(a,t);for(let c=0;c<a;c++)for(let d=0;d<t;d++){const p=s(c/a,d/t,r)+.5,w=o(c/a,d/t,b)+.5,x=Math.pow(w*.3+p*.7,4);A.setv(c,d,u(x))}return A}var E;(function(a){a[a.HeightMapGen=0]="HeightMapGen",a[a.OceanGen=1]="OceanGen",a[a.WindMapGen=2]="WindMapGen"})(E||(E={}));class it extends y.Component{constructor(t){super(t);this.nextPhaseClick=i=>{i.preventDefault();let s;switch(this.state.state){case 0:{s=1;break}case 1:{this.setState({airCurrents:tt(this.props.width,this.props.height,Date.now())}),s=2;break}case 2:{s=0;break}}this.setState({state:s})},this.state={state:0,initialElevation:et(this.props.width,this.props.height,Date.now()),airCurrents:null,rmap:null,histtemp:null,currtemp:null}}render(){switch(this.state.state){case 0:return g(this.state.initialElevation!=null),h(k,{children:[e(j,{className:this.props.className,style:this.props.style,data:_(this.state.initialElevation,0,[0,0,0])}),e("div",{children:e("button",{type:"button",className:"btn btn-dark",onClick:this.nextPhaseClick,children:"Next Phase"})})]});case 1:return g(this.state.initialElevation!=null),h(k,{children:[e(j,{className:this.props.className,style:this.props.style,data:_(this.state.initialElevation,.2,[7,102,120])}),e("div",{children:e("button",{type:"button",className:"btn btn-dark",onClick:this.nextPhaseClick,children:"Next Phase"})})]});case 2:return g(this.state.initialElevation!=null),g(this.state.airCurrents!=null),h(k,{children:[e(Z,{className:this.props.className,style:this.props.style,vmap:this.state.airCurrents,base:_(this.state.initialElevation,.2,[7,102,120])}),e("div",{children:e("button",{type:"button",className:"btn btn-dark",onClick:this.nextPhaseClick,children:"Reset"})})]})}}}function m(a){const t=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);return H(a[0]/t,a[1]/t,a[2]/t)}function at(){const a=(1+Math.sqrt(5))/2,t=[];t.push(m([-1,a,0])),t.push(m([1,a,0])),t.push(m([-1,-a,0])),t.push(m([1,-a,0])),t.push(m([0,-1,a])),t.push(m([0,1,a])),t.push(m([0,-1,-a])),t.push(m([0,1,-a])),t.push(m([a,0,-1])),t.push(m([a,0,1])),t.push(m([-a,0,-1])),t.push(m([-a,0,1]));function i(l,n,r,o){l.push(I(t[n])),l.push(I(t[r])),l.push(I(t[o]))}const s=[];return i(s,0,11,5),i(s,0,5,1),i(s,0,1,7),i(s,0,7,10),i(s,0,10,11),i(s,1,5,9),i(s,5,11,4),i(s,11,10,2),i(s,10,7,6),i(s,7,1,8),i(s,3,9,4),i(s,3,4,2),i(s,3,2,6),i(s,3,6,8),i(s,3,8,9),i(s,4,9,5),i(s,2,4,11),i(s,6,2,10),i(s,8,6,7),i(s,9,8,1),s}const st=`#version 300 es
layout(location=0) in vec3 a_position;
layout(location=1) in vec2 a_barycenter;

uniform mat4 u_worldViewProjection;

out vec2 v_barycenter;

void main() {
   gl_Position = u_worldViewProjection * vec4(a_position, 1.0);
   v_barycenter = a_barycenter;
}
`,nt=`#version 300 es
precision highp float;

in vec2 v_barycenter;

out vec4 v_outColor;

float gridFactor (vec2 vBC, float width) {
  vec3 bary = vec3(vBC.x, vBC.y, 1.0 - vBC.x - vBC.y);
  vec3 d = fwidth(bary);
  vec3 a3 = smoothstep(d * (width - 0.5), d * (width + 0.5), bary);
  return min(min(a3.x, a3.y), a3.z);
}

void main() {
  // color: 0xEBDBB2,
  float alpha = 1.0-gridFactor(v_barycenter, 1.0);
  v_outColor = vec4(0.922,0.859,0.698, alpha);
}
`,P=at();class rt extends y.Component{constructor(t){super(t);this.canvas=y.createRef(),this.animationLoop=()=>{this.requestID=window.requestAnimationFrame(this.animationLoop);const i=this.camera.getTrackballCameraMatrix(this.props.width,this.props.height);this.gl.uniformMatrix4fv(this.worldViewProjectionLoc,!1,i),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.gl.drawArrays(this.gl.TRIANGLES,0,P.length),this.camera.update()}}componentDidMount(){this.camera=new J(this.canvas.current,{rotation:O(W(),0,.1,0)}),this.gl=this.canvas.current.getContext("webgl2",{premultipliedAlpha:!1});const t=z(this.gl,[L(this.gl,this.gl.VERTEX_SHADER,st),L(this.gl,this.gl.FRAGMENT_SHADER,nt)]),i=this.gl.getAttribLocation(t,"a_position"),s=this.gl.getAttribLocation(t,"a_barycenter");this.worldViewProjectionLoc=this.gl.getUniformLocation(t,"u_worldViewProjection");const l=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,l),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(P.flatMap((n,r)=>{let o;switch(r%3){case 0:o=[0,0];break;case 1:o=[0,1];break;default:o=[1,0];break}return[n[0],n[1],n[2],o[0],o[1]]})),this.gl.STATIC_DRAW),this.gl.enableVertexAttribArray(i),this.gl.vertexAttribPointer(i,3,this.gl.FLOAT,!1,5*4,0),this.gl.enableVertexAttribArray(s),this.gl.vertexAttribPointer(s,2,this.gl.FLOAT,!1,5*4,3*4),this.gl.useProgram(t),this.animationLoop()}componentWillUnmount(){window.cancelAnimationFrame(this.requestID),this.gl.getExtension("WEBGL_lose_context").loseContext(),this.camera.cleanup()}render(){return e("canvas",{style:this.props.style,className:this.props.className,ref:this.canvas,height:this.props.height,width:this.props.width})}}const ot="/resume.html",lt="/achernar.html",ht="/terraingeneration.html",f=a=>{if(Y.exports.useMediaQuery({minWidth:992})){const t=Math.cos(a.rotation*(Math.PI/180));let i;t<-.1?i={transformOrigin:"right",transform:`rotate(${a.rotation}deg) translate(${a.distance}em) rotate(${-a.rotation}deg) translate(-100%, -50%)`}:t>.1?i={transformOrigin:"left",transform:`rotate(${a.rotation}deg) translate(${a.distance}em) rotate(${-a.rotation}deg) translate(0%, -50%)`}:i={transformOrigin:"center",transform:`rotate(${a.rotation}deg) translate(${a.distance}em) rotate(${-a.rotation}deg) translate(-50%, -50%)`};const s={display:"block",position:"absolute",top:"50%",left:"50%"};return e("div",{style:M(M({},i),s),children:a.children})}else{const t=`${a.ownRow?20:1}em`;return e("div",{style:{marginLeft:t,marginRight:t},className:"my-3",children:a.children})}},v=a=>e("div",{className:"card",style:{width:"15rem"},children:h("div",{className:"card-body",children:[e("h5",{className:"card-title",children:a.title}),e("div",{className:"card-text",children:a.children})]})}),ct=()=>h(U,{children:[h("div",{className:"min-vh-100 d-flex justify-content-center flex-wrap",children:[e(f,{distance:0,rotation:90,ownRow:!0,children:e(rt,{width:400,height:400,style:{width:"20em",height:"20em"}})}),e(f,{distance:15,rotation:-45,children:e(v,{title:"About",children:e("a",{href:"#about",children:"About me, my projects, and this site"})})}),e(f,{distance:15,rotation:0,children:e(v,{title:"Innexgo",children:e("a",{href:"#innexgo",children:"Open source education systems"})})}),e(f,{distance:15,rotation:45,children:e(v,{title:"Source",children:e("a",{href:"https://github.com/pimpale/pimpale.github.io",children:"View source code for this site"})})}),e(f,{distance:15,rotation:-45+180,children:e(v,{title:"Achernar",children:e("a",{href:"#achernar",children:"A minimalistic, secure, and low level language"})})}),e(f,{distance:15,rotation:0+180,children:e(v,{title:"Articles",children:e("a",{href:"#articles",children:"Articles about projects"})})}),e(f,{distance:15,rotation:45+180,children:e(v,{title:"Resume",children:e("a",{href:ot,children:"View Resume"})})}),e(f,{distance:20,rotation:90,ownRow:!0,children:e("a",{href:"#about",className:"btn btn-secondary border-dark","aria-label":"About",children:e(q,{})})})]}),h("div",{id:"content",className:"container",children:[h(C,{id:"about",name:"About",children:[e("h5",{children:"Me"}),h("p",{children:["I'm a student at UCLA, studying Computer Science and Engineering. I believe in ",e("a",{href:"https://globalprioritiesinstitute.org/wp-content/uploads/2019/Greaves_MacAskill_The_Case_for_Strong_Longtermism.pdf?url",children:"Strong Longtermism"})," and the ",e("a",{href:"https://suckless.org/philosophy/",children:"Suckless philosophy"}),". In my free time, I enjoy recreational programming (especially in C). I currently work at ",e("a",{href:"https://innexgo.com",children:"Innexgo"}),", making educational software."]}),h("ul",{children:[e("li",{children:e("a",{href:"https://github.com/pimpale/",children:"Github"})}),e("li",{children:e("a",{href:"https://www.linkedin.com/in/govind-pimpale/",children:"LinkedIn"})}),e("li",{children:e("a",{href:X,children:"Resume"})})]}),e("h5",{children:"Projects"}),h("p",{children:["Most of my projects are licensed permissively, usually under MIT or the Unlicense. If they're not on the site, you can find them ",e("a",{href:"https://github.com/pimpale/",children:"here"}),". You can also follow me on github to keep up to date on their development."]}),e("h5",{children:"Site"}),h("p",{children:["This site was made using ",e("a",{href:"https://reactjs.org/",children:"ReactJS"})," and ",e("a",{href:"https://www.typescriptlang.org/",children:"Typescript"}),", with the animations in ",e("a",{href:"https://threejs.org/",children:"three.js"}),". All content on this site is licensed under the MIT license unless otherwise specified. The source of this website can be found ",e("a",{href:"https://github.com/pimpale/pimpale.github.io",children:"here"}),"."]})]}),h(C,{id:"innexgo",name:"Innexgo",children:[e("p",{children:"In 2018 I helped create Innexgo, an open source student attendance system. Innexgo uses RFID stickers to automatically take attendance without wasting student or teacher time and provides data analysis tools for converting raw attendance data to useful graphs and statistics."}),h("p",{children:[e("a",{href:"https://innexgo.com",children:"Company Website"}),e("br",{}),e("a",{href:"https://github.com/innexgo",children:"Source Code"})]})]}),h(C,{id:"achernar",name:"Achernar",children:[e("h5",{children:"Goals"}),"Achernar is a ",e("b",{children:e("i",{children:"Work In Progress"})})," programming language focusing on:",h("ul",{children:[h("li",{children:[e("b",{children:"Minimalism"}),": Achernar strives to be ",e("i",{children:"orthogonal"}),". Language features are simple to understand, independent, and highly composable. As such, minimalism is both possible and ergonomic."]}),h("li",{children:[e("b",{children:"Versatility"}),": Achernar does not lock the user into any particular framework and is highly unopinionated. Use Achernar compiled or interpreted. It can be easily dropped into any existing project without dragging in any dependencies."]}),h("li",{children:[e("b",{children:"Safe"}),": Achernar is designed with type safety in mind. It is strongly typed and offers additional Ada style contract programming."]})]}),e("h5",{children:"Current Status"}),h("p",{children:["I am currently about 50% through writing the first compiler in C that will compile Achernar code. The compiler uses its own custom standard library called ",e("code",{children:"comlib"})," that will evolve into Achernar's standard library."]}),e("h5",{children:"Additional Information"}),h("p",{children:[e("a",{href:"https://github.com/pimpale/achernar",children:"Achernar Source Code"}),e("br",{}),e("a",{href:lt,children:"More Info"})]})]}),e(Q,{}),e(C,{id:"terraingeneration",name:"TerrainGeneration",children:h("div",{children:[e(it,{width:400,height:400,style:{width:800,maxWidth:"100%"},className:"border border-dark ratio ratio-1x1"}),e("br",{}),e("a",{href:ht,children:"More Terrain Generation"})]})}),e("br",{})]})]});$.render(e(y.StrictMode,{children:e(ct,{})}),document.getElementById("root"));
