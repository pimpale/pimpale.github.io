import{a as c,j as p}from"./vendor.346b5029.js";function d(r,a){if(!r)throw new Error(a)}function u(r){const{width:a,height:t}=r.dims(),i=new ImageData(a,t);for(let e=0;e<a;e++)for(let s=0;s<t;s++){const n=(e+s*a)*4,h=r.getv(e,s);i.data[n+0]=h*255,i.data[n+1]=h*255,i.data[n+2]=h*255,i.data[n+3]=255}return i}function f(r,a,t){const{width:i,height:e}=r.dims(),s=new ImageData(i,e);for(let n=0;n<i;n++)for(let h=0;h<e;h++){const o=(n+h*i)*4,l=r.getv(n,h);l>a?(s.data[o+0]=l*255,s.data[o+1]=l*255,s.data[o+2]=l*255,s.data[o+3]=255):(s.data[o+0]=t[0],s.data[o+1]=t[1],s.data[o+2]=t[2],s.data[o+3]=255)}return s}class m{constructor(a,t,i){if(this.arr=new Float32Array(a*t),this.xsize=a,this.ysize=t,i)for(let e=0;e<t;e++)for(let s=0;s<a;s++)this.arr[s+e*t]=i(s,e)}getv(a,t){return d(a<this.xsize),d(t<this.ysize),this.arr[this.xsize*t+a]}setv(a,t,i){d(a<this.xsize),d(t<this.ysize),d(i>=0&&i<=1),this.arr[this.xsize*t+a]=i}getData(){return this.arr}dims(){return{width:this.xsize,height:this.ysize}}add(a){d(a.arr.length===this.arr.length);for(let t=0;t<this.arr.length;t++)this.arr[t]=a.arr[t]}scale(a){for(let t=0;t<this.arr.length;t++)this.arr[t]*=a}}class v extends c.Component{constructor(a){super(a);this.displayCanvas=c.createRef(),this.paint=this.paint.bind(this)}componentDidMount(){this.paint()}componentDidUpdate(){this.paint()}paint(){const a=this.displayCanvas.current;if(a!=null){const t=a.getContext("2d");t!=null&&t.putImageData(this.props.data,0,0)}}render(){const{width:a,height:t}=this.props.data;return p("canvas",{className:this.props.className,style:this.props.style,ref:this.displayCanvas,width:a,height:t})}}export{v as I,m as S,d as a,u as g,f as t};
